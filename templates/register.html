{% extends "layout.html" %}

{% block title %}
    Register
{% endblock %}

{% block main %}
    <div>
        <button class="btn btn-primary" style="color: lightseagreen; background-color: white; border-radius: 50px ; border-color: lightseagreen; font-size: 70px; width: 80px; font-family: Georgia, 'Times New Roman', Times, serif;" type="reset">B</button>
    </div> <br>
    <div> <small>Please register here</small> </div> <br>
    <form action="/register" method="POST">
        <div class="form-group">
            <input style="width: 25%;" id="username" class="form-control" autocomplete="off" name="username" type="text" placeholder="username">
        </div>        
        <div class="form-group">
            <input style="width: 25%;" id="email" class="form-control" autocomplete="off" name="email" type="email" placeholder="email address">
        </div>
        <div class="form-group">
            <input style="width: 25%;" id="password" class="form-control" autocomplete="off" name="password" type="password" placeholder="password">
        </div>
        <div class="form-group">
            <input onkeyup="matchingError()" style="width: 25%;" id="confirmPassword" class="form-control" autocomplete="off" name="confirmPassword" type="password" placeholder="confirm password">
        </div>
        <div>
            <span>
                <form action="/register" method="POST">
                    <button name="cancel" class="btn btn-outline-info my-2 my-sm-0" class="btn btn-outline-info my-2 my-sm-0" type="submit" value="cancel">Cancel</button>
                </form>  
            </span>
            <span>
                <button onclick="alertError()" class="btn btn-outline-info my-2 my-sm-0" type="submit">Submit</button>
            </span>
        </div>    
    </form> 

    <script>
        function matchingError() {
            password = document.getElementById("password").value;
            confirm_password = document.getElementById("confirmPassword").value;
            if (password !== confirm_password) {
                document.querySelector("#password").style.color = "Crimson";
                document.querySelector("#confirmPassword").style.color = "Crimson";
                document.getElementById("password").style.borderColor = "Crimson";
                document.getElementById("confirmPassword").style.borderColor = "Crimson";                
            }
            else {
                document.querySelector("#password").style.color = "DarkCyan";
                document.querySelector("#confirmPassword").style.color = "DarkCyan";
                document.getElementById("password").style.borderColor = "#ced4da";
                document.getElementById("confirmPassword").style.borderColor = "#ced4da";
            }
        }
        function alertError() {
            username = document.getElementById("username").value;
            email = document.getElementById("email").value;
            password = document.getElementById("password").value;
            confirm_password = document.getElementById("confirmPassword").value; 
            if ((username === "") || (email === "") || (password === "") || (confirm_password === "")) {
                alert("All fields are required!");
                event.preventDefault();
            }
            else if (password !== confirm_password) {
                alert("Password doesn't match!");
                event.preventDefault();
            }
            else if (password.length < 8) {
                alert("Your password must be at least 8 characters long!");
                event.preventDefault();
            }                       
        }
    </script>
{% endblock %}